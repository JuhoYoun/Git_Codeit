repository와 commit

Git 의 기본 개념
1. 레포지토리
2. 커밋

repository
우리말로 저장소라는 뜻이다 우리가 어떤 프로그램을 만드는 프로젝트를 한다고 가정하면 그럼 먼저 그 프로젝트에 필요한 것들을 담기위한 디렉토리를 만든다 그리고 프로젝트와 관련된 디렉토리나 파일들을
모두 그 디렉토리 안에 담게 된다 이 디렉토리를 프로젝트 디렉토리라고 한다 이 때 git 으로 프로젝트 디렉토리의 버전으로 관리하기 시작하면 원하는 시점마다 그 디렉토리 안에 어떤것이 있는지 그것들의 내용이
어떻게 변해가는지 기록할 수 있다 git이 이런 정보를 기록하는 곳을 레포지토리라고 한다 그러니까 레포지토리 안에는 프로젝트를 위해 만든 디렉토리의 초창기 모습부터 최근 모습까지 버전별로 담겨있다
git을 쓰면 프로젝트 디렉토리 안에 .git 이라고 하는 디렉토리가 만들어지는데 (숨겨짐) 바로 이 .git 디렉토리가 레포지토리이다 어떤 사람들은 프로젝트 디렉토리 자체를 레포지토리라고도 하는데 정확하게는
프로젝트의 변경사항들이 저장되어있는 .git 디렉토리가 레포지토리이다 

commit
프로젝트 디렉토리 안에서 작업을 하다보면 지금의 모습이 하나의 버전으로 남겨지면 좋겠다는 생각이 들 때가 있다 이 때 프로젝트 디렉토리의 모습을 하나의 버전으로 남기는 동작을 커밋한다라고 한다 
커밋하면 커밋하는 당시의 프로젝트 디렉토리의 모습이 마치 사진처럼 레포지토리에 저장된다 이 때 이 고정된 결과물 자체도 커밋이라고 한다 레포지토리에 저장된 커밋을 나중에 참조하면 과거의 프로젝트
디렉토리의 모습을 볼 수 있게 되는데 이런 커밋을 통해서 버전 관리를 할 수 있게 된다 

정리하자면 프로젝트 디렉토리의 특정 모습을 하나의 버전으로 남기는 행위 그리고 그 결과물을 커밋이라고 하고 이 커밋이 저장되는 곳을 레포지토리라고 한다 
---------------------------------------------------------------------------------------------------------------------------------------------

repository 만들기 

이제부터 프로젝트 하나를 시작해보자 수학 계산기 프로그램을 만들어볼거다 그리고 이 프로젝트를 진행하면서 git을 사용할거다 일단 프로젝트를 위해 MathTool이란 디렉토리를 만들거다 -> mkdir MathTool
이제 이 디렉토리 안에서 프로젝트에 필요한 각종 파일과 자식 디렉토리를 만들것이다 그러면 이 MathTool 디렉토리가 프로젝트 디렉토리가 되는것이다 그리고 git으로 이 프로젝트 디렉토리의 버전관리를 할것이다 
근데 그러려면 어떤 설정이 필요하다 프로젝트 디렉토리로 가서 git init 이라고 치고 엔터를 누른다 
->
hint: Using 'master' as the name for the initial branch. This default branch name
hint: is subject to change. To configure the initial branch name to use in all
hint: of your new repositories, which will suppress this warning, call:
hint: 
hint: 	git config --global init.defaultBranch <name>
hint: 
hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and
hint: 'development'. The just-created branch can be renamed via this command:
hint: 
hint: 	git branch -m <name>
Initialized empty Git repository in /Users/jutlo/code_it_git/.git/
이렇게 뜬다

여기서 git은 우리가 git으로 어떤 작업을 할 때마다 써야하는 커맨드이고 이 git이라는 단어 뒤애 어떤 커맨드를 붙이느냐에 따라 하게 되는 작업이 달라진다 지금은 이렇게 git init이라고 했는데 
이렇게 하면 위에 처럼 Initialized empty Git repository in /Users/jutlo/code_it_git/.git/ 이렇게 결과가 출력되는데 이 문장은 비어있는 레포지토리를 생성했다는 의미이다 
실재로 어떤 일이 생겼는지 확인해보자 -> ls -al  -> .git 이라는 디렉토리가 생긴것을 확인할 수 있다 이게 바로 레포지토리이다 이 안으로 들어가보자 -> cd .git 
그리고 뭐가 들었는지 확인해보자 -> cd -al
->
total 24
drwxr-xr-x   9 jutlo  staff  288 Mar 29 10:52 .
drwxr-xr-x   4 jutlo  staff  128 Mar 29 10:52 ..
-rw-r--r--   1 jutlo  staff   23 Mar 29 10:52 HEAD
-rw-r--r--   1 jutlo  staff  137 Mar 29 10:52 config
-rw-r--r--   1 jutlo  staff   73 Mar 29 10:52 description
drwxr-xr-x  15 jutlo  staff  480 Mar 29 10:52 hooks
drwxr-xr-x   3 jutlo  staff   96 Mar 29 10:52 info
drwxr-xr-x   4 jutlo  staff  128 Mar 29 10:52 objects
drwxr-xr-x   4 jutlo  staff  128 Mar 29 10:52 refs

이게 다 무엇이냐? git은 프로젝트 디렉토리 안에 버전관리를 하기 위해서 자신만의 규칙을 가지고 복잡한 작업을 처리한다 여기 보이는 것들은 모두 그 작업을 하기위해 사용되는 것들이다 
git을 사용할 때 여기있는 것들이 각각 어떤 역할을 하는지 모두 알 필요는 없다 지금은 그냥 이 공간이 레포지토리이고 여기서 git 이 어떤 복잡한 작업을 하면서 버전관리를 한다는 것을 기억하자
------------------------------------------------------------------------------------------------------------------------------------------------

MathTool 디렉토리에 다음과 같은 calculator.py 를 저장해주자

def add(a, b):
  return a+b

def subtract(a, b):
  return a-b
  
그 다음은 우리가 만들 프로그램이 유료인지 무료인지 이런것들에 대한 정보를 담아준 license 파일을 만들것이다 일단 이 프로젝트의 결과물은 누구나 무료로 사용할 수 있도록 제공할거라서 Free 라고 적었다
프로젝트 디렉토리에 License 라고 하고 저장을 하자 (확장자가 없넹?) 자 이렇게 되면 비어있던 MathTool 디렉토리의 상태가 변했다 이 상태를 MathTool 디렉토리의 첫번째 버전으로 남기자 
이럴 때 commit을 쓴다 그런데 첫 커밋을 하기 전에 꼭 해줘야하는것이 있다 바로 git에게 내가 누구인지 알려주는것이다 커밋을 할 때는 그 커밋을 누가 했는지도 반드시 함께 기록해야하는데 그래야 나중에
누가 커밋했는지 알 수 있다 협업을 하다보면 누가 어떤 커밋을 했는지 구분하기 위해서다 git은 이것을 강제하고 있다 내가 누구인지 git 에게 알려주려면 내 이름과 이메일 주소를 설정하면 된다 
일단은 이렇게 써보자 
->
git config

여기서 config는 configure의 줄임말로 설정하다 구성하다 이런 의미이다 그리고 한 칸 띄고 내 이름을 설정하기 위해 user.name 이라고 쓴다 그리고 한 칸 띄고 "을 열고 내 이름을 쓰면 된다 
->
git config user.name "jutlo"

엔터를 치면 내 이름이 설정된다 email도 비숫하게 설정한다 -> git config user.email "juho.youn.work@gmail.com"

이제 내가 커밋을 하면 그 커밋에는 내 이름과 이메일도 같이 기록된다 자 이제 한번 커밋을 해보자
->
git commit 

commit은 우리말로 무언가를 행하다 기록하다 이런 뜻이다 여기에 몇가지 더 넣어야하는 사항들이 있다 커밋에는 이름과 이메일 외에 커밋에 대한 정보도 필요한데 어떤 변동 사항이 생겨 이런 커밋을 했는지 
그런 정보를 추가해줘야한다 이런 정보를 커밋 메세지라고 부른다 커밋 메세지를 남기려면 옵션이 필요하다 -m 이렇게 옵션을 주고 한칸 띄우고 "" 안에 커밋에 관한 정보를 쓰면 된다 이 내용을 잘 쓰는것이
굉장히 중요하다 우리는 방금 MathTool 디렉토리 안에 두개의 파일을 추가해줬다 그러니 이렇게 한번 기록해보자 
-> git commit -m "Create calculator.py and License"

그러면 이렇게 출력된다
->
On branch master

Initial commit

Untracked files:
  (use "git add <file>..." to include in what will be committed)
	./

nothing added to commit but untracked files present (use "git add" to track)


에러 메세지처럼 뜨는데 마지막 줄을 보면 커밋을 하기 위해 add된게 하나도 없고 untracked 상태인 파일들이 존재한다는 문구가 보인다 
untracked 는 git에 의해서 아직 추적되지 않고 있다 이런 뜻인데 아직 git으로 뭔가를 해준적이 없어서 파일이 버전 관리 대상이 아닐 때 이런 상태를 untracked 라고 한다
그렇다면 add는 뭘까? 커밋에대해 중요한 사실이 하나 있는데 커밋을 하기 전에는 커밋을 할 파일들을 미리 지정해줘야한다 그러니까 파일을 새로 생성하거나 원래있던 파일의 내용들을 수정하고 나면 
그 파일들은 새로운 모습으로 커밋에 포함될거라고 지정을 하는건데 이 작업을 해야 그 후에 커밋을 할 수 있다 이런 사전 작업을 add라고 한다 
add 는 이렇게 쓴다
-> 
git add calculator.py 이렇게 하면 calculator.py 가 커밋에 반영될 파일로 지정됬다

License 파일도 추가해주자 -> git add License
자 이제 다시 커밋해보자 -> git commit -m "Create calculator.py and License"
->
[master (root-commit) 292b059] Create calculator.py and License
 2 files changed, 6 insertions(+)
 create mode 100644 MathTool/License
 create mode 100644 MathTool/calculator.py
 
 아까와는 좀 다르게 출력된다 이 출력 결과는 커밋이 되었다는 뜻이고 (그럼 아까거는 커밋이 안됬나보다) 그 결과를 보여준다 여기서 root-commit 이란 말은 이 커밋이 프로젝트의 첫번째 커밋이란 뜻이다
 그 옆에 작성한 커밋 메세지가 잘 보이고 2개의 파일이 변경됬다고 나오는데 우리가 파일 두개를 추가한 작업이 이렇게 나온다 그 옆에 6 insertions (+)는 6줄이 추가됬다는 의미인데 calculator.py
 의 5줄과 License 의 1줄이 추가된 결과이다 
 
 자 방금 배운 커밋의 주의 사항 세가지를 정리해보자 
 1. 처음으로 커밋하기 전 사용자의 이름과 이메일 주소 설정
 2. 커밋 메세지 남기기 (옵션 -m)
 3. 커밋할 파일을 git add 로 지정해주기
------------------------------------------------------------------------------------------------------------------------------

이전 영상에서 MathTool 디렉토리에 저장했던 calculator.py 파일에 대해 간단하게 설명해드릴게요.

사실 그 파일 안에 적었던 내용은 파이썬(python)이라고 하는 프로그래밍 언어로 작성한 코드입니다.

아직 파이썬(python)을 배우지 않은 분들은 코드를 이해하지 못하셨을 텐데요.

코드잇의 '프로그래밍 기초' 코스를 들으면 파이썬을 쉽게 배울 수 있습니다.

하지만 '프로그래밍 기초' 코스를 들을 시간이 없는 분들은 아래 내용만 참고하고 넘어가셔도 괜찮습니다.

자, calculator.py 파일의 코드를 볼까요?

def add(a, b):
  return a+b
    
def subtract(a, b):
  return a-b

일단 지금 파일 이름이 calculator.py인데요. 보통 파이썬 코드가 있는 파일은 이렇게 그 이름이 .py로 끝이 납니다. 지금 저는 계산기라는 뜻의 calculator라고 이름을 붙인 겁니다.

본격적으로 코드를 보면 위 내용 중

def add(a, b):
  return a+b

이 부분과

def subtract(a, b):
 return a-b

이 부분은 각각 함수입니다.

함수(function)라는 건 어떤 데이터를 받아서 그 데이터를 갖고 특정한 작업을 해주는 존재인데요. 

그러니까 지금 

def add(a, b):
  return a+b

이 부분은 a, b라는 이름으로 두 수를 받아서 그 두 수를 더한 값을 되돌려주는 add(더하다)라는 함수입니다.

이렇게 결과값을 되돌려주는 것을 파이썬 코드에서는 return이라고 표현합니다.

그리고

def subtract(a, b):
 return a-b

이 부분은 a, b라는 이름으로 두 수를 받아서 a에서 b를 뺀 값을 되돌려주는 subtract(빼다)함수입니다. 

지금 계산기니까 더하기, 빼기 함수를 추가한 겁니다. 이제 calculator.py 파일의 의미가 좀 이해되시죠?

참고로 이전 영상에서 calculator.py 파일 말고도 License 파일도 추가했었죠? 이런 내용을 적었었는데요.

Free

이 파일은 코드는 아니고 그냥 Free라고 하는 텍스트가 적혀있는 파일입니다. 현재 MathTool 디렉토리에서 만들려고 하는 프로그램이 무료라는 것을 나타내기 위해서 이런 텍스트 파일을 만든 겁니다.
--------------------------------------------------------------------------------------------------------------------------------------







